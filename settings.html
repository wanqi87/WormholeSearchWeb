<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="设置和管理">
    <meta name="theme-color" content="#6366f1">
    <title>设置 - 虫洞搜索</title>
    <!-- 网站图标 -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">虫洞搜索</h1>
            <p class="subtitle">管理您的偏好设置</p>
        </header>

        <main class="main-content history-content">
            <!-- 统计信息 -->
            <div class="settings-section">
                <h2 class="settings-title">📊 使用统计</h2>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalSearches">-</div>
                        <div class="stat-label">总搜索次数</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalPlatforms">36</div>
                        <div class="stat-label">支持平台</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalCategories">6</div>
                        <div class="stat-label">平台分类</div>
                    </div>
                </div>
            </div>

            <!-- 最常使用 -->
            <div class="settings-section">
                <h2 class="settings-title">⭐ 最常使用</h2>
                <div class="top-platforms" id="topPlatforms">
                    <p class="empty-hint">暂无数据</p>
                </div>
            </div>

            <!-- 帮助 -->
            <div class="settings-section">
                <h2 class="settings-title">❓ 帮助</h2>
                <div class="settings-buttons">
                    <button class="settings-btn" id="showGuideBtn">
                        📖 查看新手引导
                    </button>
                    <button class="settings-btn" id="showFeedbackBtn">
                        💬 使用反馈
                    </button>
                </div>
            </div>

            <!-- 数据管理 -->
            <div class="settings-section">
                <h2 class="settings-title">💾 数据管理</h2>
                <div class="settings-buttons">
                    <button class="settings-btn" id="exportDataBtn">
                        📤 导出数据
                    </button>
                    <button class="settings-btn" id="importDataBtn">
                        📥 导入数据
                    </button>
                    <button class="settings-btn" id="resetAppPreferencesBtn" onclick="resetAppPreferences()">
                        🔄 重置 App 偏好
                    </button>
                    <button class="settings-btn danger" id="clearDataBtn">
                        🗑️ 清除所有数据
                    </button>
                </div>
                <input type="file" id="importFileInput" accept=".json" style="display: none;">
                <p class="settings-hint" style="margin-top: 12px; color: var(--text-tertiary); font-size: 0.875rem;">
                    💡 重置 App 偏好：清除已记住的"App 未安装时"行为选择
                </p>
            </div>

            <!-- 关于 -->
            <div class="settings-section">
                <h2 class="settings-title">ℹ️ 关于</h2>
                <div class="about-info">
                    <p><strong>虫洞搜索</strong></p>
                    <p>版本：v2.0.0</p>
                    <p>一站式搜索聚合工具</p>
                    <p style="margin-top: 1rem; color: var(--text-tertiary); font-size: 0.875rem;">
                        覆盖社交媒体、视频平台、AI工具、购物平台、新闻资讯、工具搜索等多个领域
                    </p>
                    <div style="margin-top: 1.5rem; padding: 1rem; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color);">
                        <p style="font-weight: 600; margin-bottom: 0.75rem; color: var(--text-primary);">典型使用场景</p>
                        <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-secondary); font-size: 0.875rem; line-height: 1.8;">
                            <li><strong>选品与比价</strong>：同一关键词在淘宝、京东、拼多多、跨境平台快速对照。</li>
                            <li><strong>舆情与素材</strong>：社媒平台（小红书、微博、B 站、抖音、即刻、YouTube）一键切换检索。</li>
                            <li><strong>新闻多源核对</strong>：头条、腾讯新闻、网易新闻与 Google News/Reddit 交叉验证。</li>
                            <li><strong>学习与研究</strong>：知乎、豆瓣、视频平台形成互补视角，减少信息偏见。</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <nav class="bottom-nav">
            <a href="index.html" class="nav-item">
                <span class="nav-label">搜索</span>
            </a>
            <a href="history.html" class="nav-item">
                <span class="nav-label">历史</span>
            </a>
            <a href="settings.html" class="nav-item active">
                <span class="nav-label">设置</span>
            </a>
        </nav>
    </div>

    <!-- Toast通知 -->
    <div id="toast" class="toast"></div>

    <!-- 反馈二维码模态框 -->
    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" id="modalClose">&times;</span>
            <h3 class="modal-title">扫码添加微信反馈</h3>
            <div class="modal-qrcode">
                <img src="images/wechat-qrcode.jpg" alt="微信二维码">
            </div>
            <p class="modal-desc">
                扫描二维码添加微信，欢迎您的反馈与建议
            </p>
        </div>
    </div>

    <!-- 引入配置文件 -->
    <script src="js/config/categories.js"></script>
    <script src="js/config/platforms.js"></script>
    <!-- 引入设置管理逻辑 -->
    <script src="js/settings.js"></script>
</body>
</html>

